<div class="tim-typo">
  <h1>
    <span class="tim-note"></span>Attendance</h1>
</div>

<div class="col-xl-auto">
  <div class="card ">
    <div class="card-header ">
      <h4 class="card-title">TODAY'S STATISTICS
        <small class="description"></small>
      </h4>
    </div>
    <div class="card-body ">

      <div class="card-body ">
        <div class="row">

          <div class="col-md-4 ml-auto mr-auto">
            <div class="card card-stats" style="box-shadow:0 1px 6px">
              <div class="card-header card-header-icon card-header-info">
                <div class="card-icon">
                  <i class="fas fa-store-alt"></i>
                </div>
                <h3 class="card-title">Number Of Employee</h3>

                <h3 class="card-title"> {{this.ans}}</h3>


              </div>
              <div class="card-footer">
                <div class="stats">
                  <i class="material-icons"></i> For Today
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-4 ml-auto mr-auto">

            <div class="card card-stats" style="box-shadow:0 1px 6px">
              <div class="card-header card-header-icon card-header-info">
                <div class="card-icon">
                  <i class="fas fa-address-card"></i>
                </div>


                <h3 class="card-title">Attendance</h3>
                <p class="card-category">please enter details</p>

                <div  >
                  <div class="form-group">
                    <input type="text" class="form-control" placeholder="Enter Employee ID" [(ngModel)]="empId">
                  </div>
                </div>

                <div class="col-md-4 col-sm-5">
                  <button class="btn btn-info" (click)="checkEmployee()" >
                    IN TIME
                  </button>
                </div>

              </div>
              <div class="card-footer">
                <div class="stats">
                  <i class="material-icons"></i> For Today
                </div>
              </div>
            </div>

          </div>


        </div>

      </div>
    </div>
  </div>
</div>


<nav class="navbar navbar-expand-lg " style="background-color: #b8ecf3">
  <!-- Navbar content -->
  <form class="form-inline ml-auto" >
    <div class="form-group no-border">
      <input type="text" class="form-control" placeholder="Search" name="attId" [(ngModel)]="attendanceId">
    </div>
    <button type="submit" class="btn btn-just-icon btn-round btn-info" (click)="searchById()">
      <i class="now-ui-icons ui-1_zoom-bold" class="fas fa-search"></i>
    </button>
  </form>
</nav>
<!--Search and delete-->
<div>
  <div class="card">
    <div class="card-header card-header-text card-header-info">
      <div class="card-text">
        <h4 class="card-title">Search & Delete</h4>
        <p class="card-category">Attendence</p>
      </div>
    </div>
    <div class="card-body table-responsive">
      <table class="table table-hover">
        <thead class="text" style="background-color: #b8ecf3">
        <th>ID</th>
        <th>Employee</th>
        <th>Name</th>
        <th>IN Time</th>
        <th>OUT time</th>
        <th>Delete</th>

        </thead>
        <tbody>
        <tr *ngIf="searchAttIf;else eLseBLock">
          <td>
            <i class="material-icons" data-notify="icon"></i>
            Not Found
          <td colspan="16" class="alert alert-danger" style="text-align: center">
            Attendance Details Not Found
          </td>
        </tr>
        <ng-template #eLseBLock>
          <tr>
            <td>
              {{searchatt.attendanceId}}
            </td>
            <td>{{searchatt.employee.employee_id}}</td>
            <td>
              {{searchatt.inTime}}
            </td>
            <td>
              {{searchatt.outTime}}
            </td>
            <td>
              {{searchatt.day}}
            </td>
            <td>
              <button type="button" rel="tooltip" class="btn btn-danger" (click)="deleteAttendance()">
                <i class="material-icons">close</i>
              </button>
            </td>
          </tr>
        </ng-template>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div>
  <div class="card">
    <div class="card-header card-header-text card-header-info">
      <div class="card-text">
        <h4 class="card-title">Employees Stats</h4>
        <p class="card-category">Today Attendence</p>
      </div>
    </div>
    <div class="card-body table-responsive">
      <table class="table table-hover">
        <thead class="text" style="background-color: #b8ecf3">
        <th>ID</th>
        <th>EmployeeId</th>
        <th>Day</th>
        <th>IN Time</th>
        <th>OUT time</th>
        <th>View</th>
        </thead>
        <tbody>

        <tr *ngFor="let att of attend">
          <td>
            {{att.attendanceId}}
          </td>
          <td>{{att.employee.employee_id}}</td>
          <td>
            {{att.day}}
          </td>
          <td>
            {{att.inTime}}
          </td>
          <td>
            {{att.outTime}}
          </td>
          <td>
            <button class="btn btn-info" (click)="updateOutTime(att.attendanceId,att.inTime,att.day,att.employee,att.outTime)">
              OUT TIME
            </button>
          </td>
        </tr>

        </tbody>
      </table>
    </div>
  </div>
</div>

